# Agent2Agent (A2A) Protocol


**_An open protocol enabling communication and interoperability between opaque agentic applications._**

<!-- TOC -->

- [Agent2Agent (A2A) Protocol](#agent2agent-a2a-protocol)
  - [See A2A in Action](#see-a2a-in-action)
  - [Purpose of A2A Protocol](#purpose-of-A2A-Protocol)
  - [Conceptual Overview](#conceptual-overview)
    - [Typical Flow](#typical-flow)
  - [Getting Started](#getting-started)
  - [A2A and MCP](#A2A-and-MCP)
  

<!-- /TOC -->

    
The Agent2Agent Protocol (A2A), created by Google, is a set of rules that helps different AI agents talk to each other and work together, even if they are built using different tools or by different companies. Its main goal is to make it easier for these agents to share information, coordinate tasks, and team up effectively, especially in complicated systems where many agents are involved. 

## See A2A in Action

Watch [this demo video](https://storage.googleapis.com/gweb-developer-goog-blog-assets/original_videos/A2A_demo_v4.mp4) to see how A2A enables seamless communication between different agent frameworks.

## Purpose of A2A Protocol
- **Seamless Interoperability:** Agents should be able to work together even if they come from different backgrounds (e.g., OpenAI agent collaborating with Google's or Meta's agent).
- **Dynamic Discovery:** Agents can find new partners in real-time and start working without human intervention.
- **Decentralized Communication:** No need for a central controller or orchestrator.

## Conceptual Overview

The Agent2Agent (A2A) protocol facilitates communication between independent AI agents. Here are the core concepts:

- **Agent Card:** A public metadata file (usually at `/.well-known/agent.json`) describing an agent's capabilities, skills, endpoint URL, and authentication requirements. Clients use this for discovery.
- **A2A Server:** An agent exposing an HTTP endpoint that implements the A2A protocol methods (defined in the [json specification](https://github.com/google/A2A/tree/main/specification)). It receives requests and manages task execution.
- **A2A Client:** An application or another agent that consumes A2A services. It sends requests (like `tasks/send`) to an A2A Server's URL.
- **Task:** The central unit of work. A client initiates a task by sending a message (`tasks/send` or `tasks/sendSubscribe`). Tasks have unique IDs and progress through states (`submitted`, `working`, `input-required`, `completed`, `failed`, `canceled`).
- **Message:** Represents communication turns between the client (`role: "user"`) and the agent (`role: "agent"`). Messages contain `Parts`.
- **Part:** The fundamental content unit within a `Message` or `Artifact`. Can be `TextPart`, `FilePart` (with inline bytes or a URI), or `DataPart` (for structured JSON, e.g., forms).
- **Artifact:** Represents outputs generated by the agent during a task (e.g., generated files, final structured data). Artifacts also contain `Parts`.
- **Streaming:** For long-running tasks, servers supporting the `streaming` capability can use `tasks/sendSubscribe`. The client receives Server-Sent Events (SSE) containing `TaskStatusUpdateEvent` or `TaskArtifactUpdateEvent` messages, providing real-time progress.
- **Push Notifications:** Servers supporting `pushNotifications` can proactively send task updates to a client-provided webhook URL, configured via `tasks/pushNotification/set`.

### Typical Flow

1.  **Discovery:** Client fetches the Agent Card from the server's well-known URL.
2.  **Initiation:** Client sends a `tasks/send` or `tasks/sendSubscribe` request containing the initial user message and a unique Task ID.
3.  **Processing:**
    - **(Streaming):** Server sends SSE events (status updates, artifacts) as the task progresses.
    - **(Non-Streaming):** Server processes the task synchronously and returns the final `Task` object in the response.
4.  **Interaction (Optional):** If the task enters `input-required`, the client sends subsequent messages using the same Task ID via `tasks/send` or `tasks/sendSubscribe`.
5.  **Completion:** The task eventually reaches a terminal state (`completed`, `failed`, `canceled`).

### **Getting Started**

* 📚 Read the [technical documentation](https://google.github.io/A2A/#/documentation) to understand the capabilities
* 📝 Review the [json specification](https://github.com/google/A2A/tree/main/specification)of the protocol structures
* 🎬 Use our [samples](https://github.com/google/A2A/tree/main/samples) to see A2A in action
    * Sample A2A Client/Server ([Python](https://github.com/google/A2A/tree/main/samples/python/common)), [JS](https://github.com/google/A2A/tree/main/samples/js/src))
    * [Multi-Agent Web App](https://github.com/google/A2A/blob/main/demo/README.md)
    * CLI ([Python](https://github.com/google/A2A/blob/main/samples/python/hosts/cli/README.md), [JS](https://github.com/google/A2A/blob/main/samples/js/README.md))
* 🤖 Use our [sample agents](https://github.com/google/A2A/blob/main/samples/python/agents/README.md) to see how to bring A2A to agent frameworks
    * [Agent Development Kit (ADK)](https://github.com/google/A2A/blob/main/samples/python/agents/google_adk/README.md)
    * [CrewAI](https://github.com/google/A2A/blob/main/samples/python/agents/crewai/README.md)
    * [Enterprise Data Agent (Gemini + Mindsdb)](https://github.com/google/A2A/blob/main/samples/python/agents/mindsdb/README.md)
    * [LangGraph](https://github.com/google/A2A/blob/main/samples/python/agents/langgraph/README.md)
    * [Genkit](https://github.com/google/A2A/blob/main/samples/js/src/agents/README.md)
    * [LlamaIndex](https://github.com/google/A2A/blob/main/samples/python/agents/llama_index_file_chat/README.md)
    * [Marvin](https://github.com/google/A2A/blob/main/samples/python/agents/marvin/README.md)
    * [Semantic Kernel](https://github.com/google/A2A/blob/main/samples/python/agents/semantickernel/README.md)
    * [AG2 + MCP](https://github.com/google/A2A/blob/main/samples/python/agents/ag2/README.md)
* 📑 Review key topics to understand protocol details 
    * [A2A and MCP](https://google.github.io/A2A/#/topics/a2a_and_mcp.md)
    * [Agent Discovery](https://google.github.io/A2A/#/topics/agent_discovery.md)
    * [Enterprise Ready](https://google.github.io/A2A/#/topics/enterprise_ready.md)
    * [Push Notifications](https://google.github.io/A2A/#/topics/push_notifications.md)
 
## A2A and MCP
 ![Picture1](https://github.com/user-attachments/assets/a255d196-c46b-4adc-8509-56cf70b10d50)
- all the agents are communicating using the A2A protocol, it’s like their shared language. 
- Each agent connects to different services like search, databases, and APIs to perform specific tasks. To interact with these tools, individual agents use MCP.
- In this way, A2A acts as the language for agent-to-agent communication, while MCP serves as the language for agents to communicate with tools.

## Prerequisites

- Python 3.12 or higher
- [UV](https://docs.astral.sh/uv/) package manager (recommended)
- Google API Key (for Gemini access)

## Setup & Running
 Clone this repository:
 ```sh
   git clone https://github.com/google/A2A.git
   ```

 Create an environment file with your API key:

   ```bash
   echo "GOOGLE_API_KEY=your_api_key_here" > .env
   ```
   
Set up the Python environment:

   ```bash
   uv python pin 3.12
   uv venv
   source .venv/bin/activate
   ```

Run the agent with desired options:

   ```bash
   # Basic run
   uv run .

   # On custom host/port
   uv run . --host 0.0.0.0 --port 8080
   ```


